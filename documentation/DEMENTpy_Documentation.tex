\documentclass[12pt, oneside, titlepage]{article}      % use "amsart" instead of "article" for AMSLaTeX format

\usepackage{geometry}                		               % See geometry.pdf to learn the layout options. There are lots.
\geometry{letterpaper}                   		               % ... or a4paper or a5paper or ... 
\usepackage{graphicx}				               % Use pdf, png, jpg, or epsÂ§ with pdflatex; use eps in DVI mode
\usepackage{float}                                                     % for controlling position of figures in specified location
\usepackage{amssymb}                                            % TeX will automatically convert eps --> pdf in pdflatex	
\usepackage[labelfont=bf]{caption}                           % make Figure x.x bold
\usepackage{xcolor}
%\geometry{landscape}                		               % Activate for rotated page geometry
%\usepackage[parfill]{parskip}    		               % Activate to begin paragraphs with an empty line rather than an indent
%SetFonts
%SetFonts


\title{\textbf{Documentation of DEMENTpy v1.0}}
\author{Bin Wang\\
Department of Ecology and Evolutionary Biology\\
University of California Irvine\\
bwang7@uci.edu\\
or wbwenwu@gmail.com\\
Twitter: {@bioatmo$\rule{2mm}{0.1mm}$sphere}}
\date{Janunary, 2020}

\begin{document}
\maketitle

\section{Structure}
DEMENTpy is an individual-based model of microbial systems that is spatially explicit and trait-based, which is built from the bottom up from gene and metabolism through community all the way up to system-level emergent functions.  

% insert a figure here
\begin{figure}[H]
  \centering
  \includegraphics[width=\linewidth]{figures/Fig1_Structure.pdf}
  \caption{DEMENTpy Structure from traits through community to system-level emergent processes.}
  \label{fig:structure}
\end{figure}

\subsection{Modelling Unit}
The modelling unit in DEMENTpy is an individual taxon, which is illustrated as below:

% insert an illustration of model unit--an individual of a taxon




\section{Community Initialization}
This is the foremost step in DEMENTpy, as only after this can a microbial community that can behave be initiated. This step also completely embodies the trait-based approach. In detail, a community of being spatially explicit is created based on various traits under a series of assumptions. These traits and assumptions are elaborated below with examples.

\textcolor{red}{\textbf{\emph{Example code can be displayed showing how trait values are drawn from distributions and assigned to different individuals.}}}

It must be noteworthy that community initialization goes beyond the very beginning model setup that just initializes a community to start the simulation with. DEMENTpy is built with mimicking the Grassland systems in Southern California, CA. In each new year, microbial community is reinitialized. This reinitialization serves to capturing new community while new litters input into the systems in a new year. To achieve this reinitialization, we calculate cumulative frequency of every taxa over the past year in terms of their abundance, based on which a new spatially explicit microbial community for a new year is derived from the microbial community pool. These steps are executed in DEMENTpy using the repopulation () method in the grid.py module.

% insert a figure here
\begin{figure}[H]
  \centering
  \includegraphics[width=\linewidth]{figures/Fig_3_repopulation_method.png}
  \caption{The repopulation method in the grid.py module.}
  \label{fig:reinitialization}
\end{figure}

Please be aware that this method of reinitialization is different from the R-based DEMENT, which instead uses biomass-based frequency calculation. The reason to make this change is illustrated by the comparison below that shows apparent differences in diversity trajectory over time.

% insert a figure here
\begin{figure}[H]
  \centering
  \includegraphics[width=\linewidth]{figures/Fig_Mass_based_reinitialization.png}
  %\caption{Mass-based reinitialization.}
  \label{fig:reinitialization}
\end{figure}

\begin{figure}[H]
  \centering
  \includegraphics[width=\linewidth]{figures/Fig_Abundance_based_reinitialization.png}
  \caption{Mass- and Abundance-based reinitialization.}
  \label{fig:reinitialization}
\end{figure}




\section{Processes}
DEMENTpy is a mechanistically explicit model that encompasses processes including degradation of substrates, uptake of monomers, metabolism, mortality, and reproduction. These processes are introduced as below following the order of implementation in the model.
\subsection{Degradation}

\subsection{Uptake}

\subsection{Metabolism}
DEMENTpy now explicitly calculates metabolic production of transporters, enzymes, and osmolytes. However, it is noteworthy that for each of these three categories, it is still far from being explicit, especially for osmolyte, which, though it is assumed to have differing genes within each individual taxon and among different taxa, has constant stoichiometry without knowing specific osmotic compounds.

As regards enzyme, different taxa produce different enzymes that have differing kinetic parameters. These different enzymes still have the same stoichiometry, but entail differing metabolic costs for production by different taxa. 

Similar to enzyme, ...

\subsection{Mortality}
Mortality is implemented in DEMENTpy as both a deterministic and a stochastic process. Firstly, a microbial cell dies when its mass reaches a threshold value. In the current version of DEMENTpy the threshold value is assumed to be a constant among taxa. In addition, microbial cells die from a stochastic process, which is, atop a basal mortality probability (differentiated between bacteria and fungi), constrained by drought intensity and drought tolerance, and functional group. These two processes are executed with the deterministic process preceding the stochastic one. The mortality probability is calculated following:

Parameters involved in this mortality process include:

% insert a figure here
\begin{figure}[H]
  \centering
  \includegraphics[width=\linewidth]{figures/Fig2_Microbial_mortality_prob.pdf}
  \caption{Microbial mortality as a function of drought and tolerance.}
  \label{fig:mortality}
\end{figure}


\subsection{Reproduction}
-
-



\section{Simulation Protocol}
--

\section{DEMENTpy Programming Structure}

% insert the diagram of structure



\section{Running DEMENTpy}

DEMENTpy is open source project, of which the code is archived on GitHub at: https://github.com/bioatmosphere/DEMENTpy.



\end{document}  